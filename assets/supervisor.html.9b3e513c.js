import{_ as e,o as t,c as p,b as n,e as i,a as o,d as s,r as l}from"./app.565765f9.js";const r={},c=o(`<h1 id="\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#\u4ECB\u7ECD" aria-hidden="true">#</a> \u4ECB\u7ECD</h1><p>Supervisor\u662F\u4E00\u4E2A\u8FDB\u7A0B\u7BA1\u7406\u5DE5\u5177\uFF0C\u5F53\u8FDB\u7A0B\u4E2D\u65AD\u7684\u65F6\u5019Supervisor\u80FD\u81EA\u52A8\u91CD\u65B0\u542F\u52A8\u5B83\u3002\u53EF\u4EE5\u8FD0\u884C\u5728\u5404\u79CD\u7C7Bunix\u7684\u673A\u5668\u4E0A\uFF0Csupervisor\u5C31\u662F\u7528Python\u5F00\u53D1\u7684\u4E00\u5957\u901A\u7528\u7684\u8FDB\u7A0B\u7BA1\u7406\u7A0B\u5E8F\uFF0C\u80FD\u5C06\u4E00\u4E2A\u666E\u901A\u7684\u547D\u4EE4\u884C\u8FDB\u7A0B\u53D8\u4E3A\u540E\u53F0daemon\uFF0C\u5E76\u76D1\u63A7\u8FDB\u7A0B\u72B6\u6001\uFF0C\u5F02\u5E38\u9000\u51FA\u65F6\u80FD\u81EA\u52A8\u91CD\u542F\u3002</p><h1 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h1><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> supervisor
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h1 id="\u5E38\u7528\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u547D\u4EE4" aria-hidden="true">#</a> \u5E38\u7528\u547D\u4EE4</h1><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">### \u67E5\u770Bsupervisorctl\u652F\u6301\u7684\u547D\u4EE4</span>
<span class="token comment"># supervisorctl help    </span>
default commands <span class="token punctuation">(</span>type <span class="token builtin class-name">help</span> <span class="token operator">&lt;</span>topic<span class="token operator">&gt;</span><span class="token punctuation">)</span>:
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token function">add</span>    <span class="token builtin class-name">exit</span>      <span class="token function">open</span>  reload  restart   start   <span class="token function">tail</span>   
avail  <span class="token function">fg</span>        pid   remove  <span class="token function">shutdown</span>  status  update 
<span class="token function">clear</span>  maintail  quit  reread  signal    stop    version

<span class="token comment">### \u67E5\u770B\u5F53\u524D\u8FD0\u884C\u7684\u8FDB\u7A0B\u5217\u8868</span>
<span class="token comment"># supervisorctl status</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>update \u66F4\u65B0\u65B0\u7684\u914D\u7F6E\u5230supervisord\uFF08\u4E0D\u4F1A\u91CD\u542F\u539F\u6765\u5DF2\u8FD0\u884C\u7684\u7A0B\u5E8F\uFF09</p><p>reload\uFF0C\u8F7D\u5165\u6240\u6709\u914D\u7F6E\u6587\u4EF6\uFF0C\u5E76\u6309\u65B0\u7684\u914D\u7F6E\u542F\u52A8\u3001\u7BA1\u7406\u6240\u6709\u8FDB\u7A0B\uFF08\u4F1A\u91CD\u542F\u539F\u6765\u5DF2\u8FD0\u884C\u7684\u7A0B\u5E8F\uFF09</p><p>start xxx: \u542F\u52A8\u67D0\u4E2A\u8FDB\u7A0B</p><p>restart xxx: \u91CD\u542F\u67D0\u4E2A\u8FDB\u7A0B</p><p>stop xxx: \u505C\u6B62\u67D0\u4E00\u4E2A\u8FDB\u7A0B(xxx)\uFF0Cxxx\u4E3A[program:theprogramname]\u91CC\u914D\u7F6E\u7684\u503C</p><p>stop groupworker: \u91CD\u542F\u6240\u6709\u5C5E\u4E8E\u540D\u4E3Agroupworker\u8FD9\u4E2A\u5206\u7EC4\u7684\u8FDB\u7A0B(start,restart\u540C\u7406)</p><p>stop all\uFF0C\u505C\u6B62\u5168\u90E8\u8FDB\u7A0B\uFF0C\u6CE8\uFF1Astart\u3001restart\u3001stop\u90FD\u4E0D\u4F1A\u8F7D\u5165\u6700\u65B0\u7684\u914D\u7F6E\u6587</p><p>reread\uFF0C\u5F53\u4E00\u4E2A\u670D\u52A1\u7531\u81EA\u52A8\u542F\u52A8\u4FEE\u6539\u4E3A\u624B\u52A8\u542F\u52A8\u65F6\u6267\u884C\u4E00\u4E0B\u5C31ok</p><h1 id="\u914D\u7F6E\u6587\u4EF6\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u6587\u4EF6\u8BF4\u660E" aria-hidden="true">#</a> \u914D\u7F6E\u6587\u4EF6\u8BF4\u660E</h1><p>echo_supervisord_conf\u8BE6\u89E3\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@centos-011 ~ 07:50:00<span class="token punctuation">]</span><span class="token comment">#cat /etc/supervisord.conf.bak</span>
<span class="token punctuation">;</span> Sample supervisor config file.
 
<span class="token punctuation">[</span>unix_http_server<span class="token punctuation">]</span>
<span class="token assign-left variable">file</span><span class="token operator">=</span>/var/run/supervisor/supervisor.sock   <span class="token punctuation">;</span> socket \u8DEF\u5F84
 
<span class="token punctuation">;</span><span class="token assign-left variable">chmod</span><span class="token operator">=</span>0700                 <span class="token punctuation">;</span> socket \u6587\u4EF6\u7684\u6743\u9650
<span class="token punctuation">;</span><span class="token assign-left variable">chown</span><span class="token operator">=</span>nobody:nogroup       <span class="token punctuation">;</span> socket \u6240\u5C5E\u7528\u6237\u53CA\u7EC4
<span class="token punctuation">;</span><span class="token assign-left variable">username</span><span class="token operator">=</span>user              <span class="token punctuation">;</span> \u7528\u6237\u540D
<span class="token punctuation">;</span><span class="token assign-left variable">password</span><span class="token operator">=</span><span class="token number">123</span>               <span class="token punctuation">;</span> \u5BC6\u7801
 
<span class="token punctuation">;</span><span class="token punctuation">[</span>inet_http_server<span class="token punctuation">]</span>         <span class="token punctuation">;</span> \u662F\u5426\u542F\u7528\u670D\u52A1\uFF0C\u9ED8\u8BA4\u662F\u5173\u95ED\u7684\uFF08\u542F\u7528\u7684\u8BDD\u53EF\u4EE5\u770B\u5230supervisor \u7BA1\u7406\u7684\u670D\u52A1\u72B6\u6001\uFF09
<span class="token punctuation">;</span><span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1:9001        <span class="token punctuation">;</span> \u76D1\u542C\u7684IP\u53CA\u7AEF\u53E3
<span class="token punctuation">;</span><span class="token assign-left variable">username</span><span class="token operator">=</span>user              <span class="token punctuation">;</span> \u7528\u6237\u540D
<span class="token punctuation">;</span><span class="token assign-left variable">password</span><span class="token operator">=</span><span class="token number">123</span>               <span class="token punctuation">;</span> \u5BC6\u7801
 
<span class="token punctuation">[</span>supervisord<span class="token punctuation">]</span>               <span class="token punctuation">;</span> supervisord \u5168\u5C40\u914D\u7F6E
<span class="token assign-left variable">logfile</span><span class="token operator">=</span>/var/log/supervisor/supervisord.log  <span class="token punctuation">;</span> supervisor \u65E5\u5FD7\u8DEF\u5F84
<span class="token assign-left variable">logfile_maxbytes</span><span class="token operator">=</span>50MB       <span class="token punctuation">;</span> \u5355\u4E2A\u65E5\u5FD7\u6587\u4EF6\u6700\u5927\u6570
<span class="token assign-left variable">logfile_backups</span><span class="token operator">=</span><span class="token number">10</span>          <span class="token punctuation">;</span> \u4FDD\u7559\u591A\u5C11\u4E2A\u65E5\u5FD7\u6587\u4EF6\uFF08\u9ED8\u8BA410\u4E2A\uFF09
<span class="token assign-left variable">loglevel</span><span class="token operator">=</span>info               <span class="token punctuation">;</span> <span class="token punctuation">(</span>log level<span class="token punctuation">;</span>default info<span class="token punctuation">;</span> others: debug,warn,trace<span class="token punctuation">)</span>
<span class="token assign-left variable">pidfile</span><span class="token operator">=</span>/var/run/supervisord.pid <span class="token punctuation">;</span> pid \u6587\u4EF6\u8DEF\u5F84
<span class="token assign-left variable">nodaemon</span><span class="token operator">=</span>false              <span class="token punctuation">;</span> \u542F\u52A8\u662F\u5426\u4E22\u5230\u524D\u53F0\uFF0C\u8BBE\u7F6E\u4E3Afalse \uFF0C\u8868\u793A\u4EE5daemon \u7684\u65B9\u5F0F\u542F\u52A8
<span class="token assign-left variable">minfds</span><span class="token operator">=</span><span class="token number">1024</span>                 <span class="token punctuation">;</span> \u6700\u5C0F\u6587\u4EF6\u6253\u5F00\u6570\uFF0C\u5BF9\u5E94\u7CFB\u7EDFlimit.conf \u4E2D\u7684nofile ,\u9ED8\u8BA4\u6700\u5C0F\u4E3A1024\uFF0C\u6700\u5927\u4E3A4096
<span class="token assign-left variable">minprocs</span><span class="token operator">=</span><span class="token number">200</span>                <span class="token punctuation">;</span> \u6700\u5C0F\u7684\u8FDB\u7A0B\u6253\u5F00\u6570\uFF0C\u5BF9\u5E94\u7CFB\u7EDF\u7684limit.conf \u4E2D\u7684nproc,\u9ED8\u8BA4\u4E3A200
<span class="token punctuation">;</span><span class="token assign-left variable">umask</span><span class="token operator">=</span>022                  <span class="token punctuation">;</span> <span class="token punctuation">(</span>process <span class="token function">file</span> creation <span class="token builtin class-name">umask</span><span class="token punctuation">;</span>default 022<span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">user</span><span class="token operator">=</span>chrism                 <span class="token punctuation">;</span> \u542F\u52A8supervisord \u670D\u52A1\u7684\u7528\u6237\uFF0C\u9ED8\u8BA4\u4E3Aroot
<span class="token punctuation">;</span><span class="token assign-left variable">identifier</span><span class="token operator">=</span>supervisor       <span class="token punctuation">;</span> <span class="token punctuation">(</span>supervisord identifier, default is <span class="token string">&#39;supervisor&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">directory</span><span class="token operator">=</span>/tmp              <span class="token punctuation">;</span> \u8FD9\u91CC\u7684\u76EE\u5F55\u6307\u7684\u662F\u670D\u52A1\u7684\u5DE5\u4F5C\u76EE\u5F55
<span class="token punctuation">;</span><span class="token assign-left variable">nocleanup</span><span class="token operator">=</span>true              <span class="token punctuation">;</span> <span class="token punctuation">(</span>don<span class="token string">&#39;t clean up tempfiles at start;default false)
;childlogdir=/tmp            ; (&#39;</span>AUTO<span class="token string">&#39; child log dir, default $TEMP)
;environment=KEY=value       ; (key value pairs to add to environment)
;strip_ansi=false            ; (strip ansi escape codes in logs; def. false)
 
; the below section must remain in the config file for RPC
; (supervisorctl/web interface) to work, additional interfaces may be
; added by defining them in separate rpcinterface: sections
[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface
 
[supervisorctl]
serverurl=unix:///var/run/supervisor/supervisor.sock ; use a unix:// URL  for a unix socket
;serverurl=http://127.0.0.1:9001 ; use an http:// url to specify an inet socket
;username=chris              ; should be same as http_username if set
;password=123                ; should be same as http_password if set
;prompt=mysupervisor         ; cmd line prompt (default &quot;supervisor&quot;)
;history_file=~/.sc_history  ; use readline history if available
 
; The below sample program section shows all possible program subsection values,
; create one or more &#39;</span>real<span class="token string">&#39; program: sections to be able to control them under
; supervisor.
 
;[program:theprogramname]      ; \u5B9A\u4E49\u4E00\u4E2A\u5B88\u62A4\u8FDB\u7A0B \uFF0C\u6BD4\u5982\u4E0B\u9762\u7684elasticsearch 
;command=/bin/cat              ; \u542F\u52A8\u7A0B\u5E8F\u4F7F\u7528\u7684\u547D\u4EE4\uFF0C\u53EF\u4EE5\u662F\u7EDD\u5BF9\u8DEF\u5F84\u6216\u8005\u76F8\u5BF9\u8DEF\u5F84
;process_name=%(program_name)s ; \u4E00\u4E2Apython\u5B57\u7B26\u4E32\u8868\u8FBE\u5F0F\uFF0C\u7528\u6765\u8868\u793Asupervisor\u8FDB\u7A0B\u542F\u52A8\u7684\u8FD9\u4E2A\u7684\u540D\u79F0\uFF0C\u9ED8\u8BA4\u503C\u662F%(program_name)s
;numprocs=1                    ; Supervisor\u542F\u52A8\u8FD9\u4E2A\u7A0B\u5E8F\u7684\u591A\u4E2A\u5B9E\u4F8B\uFF0C\u5982\u679Cnumprocs&gt;1\uFF0C\u5219process_name\u7684\u8868\u8FBE\u5F0F\u5FC5\u987B\u5305\u542B%(process_num)s\uFF0C\u9ED8\u8BA4\u662F1
;directory=/tmp                ; supervisord\u5728\u751F\u6210\u5B50\u8FDB\u7A0B\u7684\u65F6\u5019\u4F1A\u5207\u6362\u5230\u8BE5\u76EE\u5F55
;umask=022                     ; umask for process (default None)
;priority=999                  ; \u6743\u91CD\uFF0C\u53EF\u4EE5\u63A7\u5236\u7A0B\u5E8F\u542F\u52A8\u548C\u5173\u95ED\u65F6\u7684\u987A\u5E8F\uFF0C\u6743\u91CD\u8D8A\u4F4E\uFF1A\u8D8A\u65E9\u542F\u52A8\uFF0C\u8D8A\u665A\u5173\u95ED\u3002\u9ED8\u8BA4\u503C\u662F999
;autostart=true                ; \u5982\u679C\u8BBE\u7F6E\u4E3Atrue\uFF0C\u5F53supervisord\u542F\u52A8\u7684\u65F6\u5019\uFF0C\u8FDB\u7A0B\u4F1A\u81EA\u52A8\u542F\u52A8
;autorestart=true              ; \u8BBE\u7F6E\u4E3A\u968F supervisord \u91CD\u542F\u800C\u91CD\u542F\uFF0C\u503C\u53EF\u4EE5\u662Ffalse\u3001true\u3001unexpected\u3002false\uFF1A\u8FDB\u7A0B\u4E0D\u4F1A\u81EA\u52A8\u91CD\u542F
;startsecs=10                  ; \u7A0B\u5E8F\u542F\u52A8\u540E\u7B49\u5F85\u591A\u957F\u65F6\u95F4\u540E\u624D\u8BA4\u4E3A\u7A0B\u5E8F\u542F\u52A8\u6210\u529F\uFF0C\u9ED8\u8BA4\u662F10\u79D2
;startretries=3                ; supervisord\u5C1D\u8BD5\u542F\u52A8\u4E00\u4E2A\u7A0B\u5E8F\u65F6\u5C1D\u8BD5\u7684\u6B21\u6570\u3002\u9ED8\u8BA4\u662F3
;exitcodes=0,2                 ; \u4E00\u4E2A\u9884\u671F\u7684\u9000\u51FA\u8FD4\u56DE\u7801\uFF0C\u9ED8\u8BA4\u662F0,2\u3002
;stopsignal=QUIT               ; \u5F53\u6536\u5230stop\u8BF7\u6C42\u7684\u65F6\u5019\uFF0C\u53D1\u9001\u4FE1\u53F7\u7ED9\u7A0B\u5E8F\uFF0C\u9ED8\u8BA4\u662FTERM\u4FE1\u53F7\uFF0C\u4E5F\u53EF\u4EE5\u662F HUP, INT, QUIT, KILL, USR1, or USR2
;stopwaitsecs=10               ; \u5728\u64CD\u4F5C\u7CFB\u7EDF\u7ED9supervisord\u53D1\u9001SIGCHILD\u4FE1\u53F7\u65F6\u7B49\u5F85\u7684\u65F6\u95F4
;user=chrism                   ; \u5982\u679Csupervisord\u4EE5root\u8FD0\u884C\uFF0C\u5219\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u8BBE\u7F6E\u7528\u6237\u542F\u52A8\u5B50\u7A0B\u5E8F
;redirect_stderr=true          ; \u5982\u679C\u8BBE\u7F6E\u4E3Atrue\uFF0C\u8FDB\u7A0B\u5219\u4F1A\u628A\u6807\u51C6\u9519\u8BEF\u8F93\u51FA\u5230supervisord\u540E\u53F0\u7684\u6807\u51C6\u8F93\u51FA\u6587\u4EF6\u63CF\u8FF0\u7B26
;stdout_logfile=/a/path        ; \u628A\u8FDB\u7A0B\u7684\u6807\u51C6\u8F93\u51FA\u5199\u5165\u6587\u4EF6\u4E2D\uFF0C\u5982\u679Cstdout_logfile\u6CA1\u6709\u8BBE\u7F6E\u6216\u8005\u8BBE\u7F6E\u4E3AAUTO\uFF0C\u5219supervisor\u4F1A\u81EA\u52A8\u9009\u62E9\u4E00\u4E2A\u6587\u4EF6\u4F4D\u7F6E
;stdout_logfile_maxbytes=1MB   ; \u6807\u51C6\u8F93\u51FAlog\u6587\u4EF6\u8FBE\u5230\u591A\u5C11\u540E\u81EA\u52A8\u8FDB\u884C\u8F6E\u8F6C\uFF0C\u5355\u4F4D\u662FKB\u3001MB\u3001GB\u3002\u5982\u679C\u8BBE\u7F6E\u4E3A0\u5219\u8868\u793A\u4E0D\u9650\u5236\u65E5\u5FD7\u6587\u4EF6\u5927\u5C0F
;stdout_logfile_backups=10     ; \u6807\u51C6\u8F93\u51FA\u65E5\u5FD7\u8F6E\u8F6C\u5907\u4EFD\u7684\u6570\u91CF\uFF0C\u9ED8\u8BA4\u662F10\uFF0C\u5982\u679C\u8BBE\u7F6E\u4E3A0\uFF0C\u5219\u4E0D\u5907\u4EFD
;stdout_capture_maxbytes=1MB   ; \u5F53\u8FDB\u7A0B\u5904\u4E8Estderr capture mode\u6A21\u5F0F\u7684\u65F6\u5019\uFF0C\u5199\u5165FIFO\u961F\u5217\u7684\u6700\u5927bytes\u503C\uFF0C\u5355\u4F4D\u53EF\u4EE5\u662FKB\u3001MB\u3001GB
;stdout_events_enabled=false   ; \u5982\u679C\u8BBE\u7F6E\u4E3Atrue\uFF0C\u5F53\u8FDB\u7A0B\u5728\u5199\u5B83\u7684stderr
;stderr_logfile=/a/path        ; \u628A\u8FDB\u7A0B\u7684\u9519\u8BEF\u65E5\u5FD7\u8F93\u51FA\u4E00\u4E2A\u6587\u4EF6\u4E2D\uFF0C\u9664\u975Eredirect_stderr\u53C2\u6570\u88AB\u8BBE\u7F6E\u4E3Atrue
;stderr_logfile_maxbytes=1MB   ; \u9519\u8BEFlog\u6587\u4EF6\u8FBE\u5230\u591A\u5C11\u540E\u81EA\u52A8\u8FDB\u884C\u8F6E\u8F6C\uFF0C\u5355\u4F4D\u662FKB\u3001MB\u3001GB\u3002\u5982\u679C\u8BBE\u7F6E\u4E3A0\u5219\u8868\u793A\u4E0D\u9650\u5236\u65E5\u5FD7\u6587\u4EF6\u5927\u5C0F
;stderr_logfile_backups=10     ; \u9519\u8BEF\u65E5\u5FD7\u8F6E\u8F6C\u5907\u4EFD\u7684\u6570\u91CF\uFF0C\u9ED8\u8BA4\u662F10\uFF0C\u5982\u679C\u8BBE\u7F6E\u4E3A0\uFF0C\u5219\u4E0D\u5907\u4EFD
;stderr_capture_maxbytes=1MB   ; \u5F53\u8FDB\u7A0B\u5904\u4E8Estderr capture mode\u6A21\u5F0F\u7684\u65F6\u5019\uFF0C\u5199\u5165FIFO\u961F\u5217\u7684\u6700\u5927bytes\u503C\uFF0C\u5355\u4F4D\u53EF\u4EE5\u662FKB\u3001MB\u3001GB
;stderr_events_enabled=false   ; \u5982\u679C\u8BBE\u7F6E\u4E3Atrue\uFF0C\u5F53\u8FDB\u7A0B\u5728\u5199\u5B83\u7684stderr\u5230\u6587\u4EF6\u63CF\u8FF0\u7B26\u7684\u65F6\u5019\uFF0CPROCESS_LOG_STDERR\u4E8B\u4EF6\u4F1A\u88AB\u89E6\u53D1
;environment=A=1,B=2           ; \u4E00\u4E2Ak/v\u5BF9\u7684list\u5217\u8868
;serverurl=AUTO                ; \u662F\u5426\u5141\u8BB8\u5B50\u8FDB\u7A0B\u548C\u5185\u90E8\u7684HTTP\u670D\u52A1\u901A\u8BAF\uFF0C\u5982\u679C\u8BBE\u7F6E\u4E3AAUTO\uFF0Csupervisor\u4F1A\u81EA\u52A8\u7684\u6784\u9020\u4E00\u4E2Aurl
 
; The below sample eventlistener section shows all possible
; eventlistener subsection values, create one or more &#39;</span>real<span class="token string">&#39;
; eventlistener: sections to be able to handle event notifications
; sent by supervisor.
 #\u8FD9\u4E2A\u5730\u65B9\u662F\u81EA\u5B9A\u4E49\u4E00\u4E2A\u5B88\u62A4\u8FDB\u7A0B
[program:elasticsearch]                       ; \u5B9A\u4E49\u4E00\u4E2A\u5B88\u62A4\u8FDB\u7A0B elasticsearch
environment=ES_HOME=/usr/local/elasticsearch  ; \u8BBE\u7F6EES_HOME \u73AF\u5883\u53D8\u91CF
user=elk                                      ; \u542F\u52A8elasticsearch \u7684\u7528\u6237
directory=/usr/local/elasticsearch            ; \u8FDB\u5165\u5230\u8FD9\u4E2A\u76EE\u5F55\u4E2D
command=/usr/local/elasticsearch/bin/elasticsearch ; \u6267\u884C\u542F\u52A8\u547D\u4EE4
numprocs=1                                    ; Supervisor\u542F\u52A8\u8FD9\u4E2A\u7A0B\u5E8F\u7684\u591A\u4E2A\u5B9E\u4F8B\uFF0C\u5982\u679Cnumprocs&gt;1\uFF0C\u5219process_name\u7684\u8868\u8FBE\u5F0F\u5FC5\u987B\u5305\u542B%(process_num)s\uFF0C\u9ED8\u8BA4\u662F1
autostart=true                                ; \u8BBE\u7F6E\u4E3A\u968F supervisord \u542F\u52A8\u800C\u542F\u52A8
autorestart=true                              ; \u8BBE\u7F6E\u4E3A\u968F supervisord \u91CD\u542F\u800C\u91CD\u542F
startretries=3                                ; \u8BBE\u7F6Eelasticsearch \u91CD\u542F\u7684\u91CD\u8BD5\u6B21\u6570
priority=1                                    ; \u6743\u91CD\uFF0C\u53EF\u4EE5\u63A7\u5236\u7A0B\u5E8F\u542F\u52A8\u548C\u5173\u95ED\u65F6\u7684\u987A\u5E8F\uFF0C\u6743\u91CD\u8D8A\u4F4E\uFF1A\u8D8A\u65E9\u542F\u52A8\uFF0C\u8D8A\u665A\u5173\u95ED\u3002\u9ED8\u8BA4\u503C\u662F999  
 
;[eventlistener:theeventlistenername]
;command=/bin/eventlistener    ; the program (relative uses PATH, can take args)
;process_name=%(program_name)s ; process_name expr (default %(program_name)s)
;numprocs=1                    ; number of processes copies to start (def 1)
;events=EVENT                  ; event notif. types to subscribe to (req&#39;</span>d<span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">buffer_size</span><span class="token operator">=</span><span class="token number">10</span>                <span class="token punctuation">;</span> event buffer queue size <span class="token punctuation">(</span>default <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">directory</span><span class="token operator">=</span>/tmp                <span class="token punctuation">;</span> directory to cwd to before <span class="token builtin class-name">exec</span> <span class="token punctuation">(</span>def no cwd<span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">umask</span><span class="token operator">=</span>022                     <span class="token punctuation">;</span> <span class="token builtin class-name">umask</span> <span class="token keyword">for</span> process <span class="token punctuation">(</span>default None<span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">priority</span><span class="token operator">=</span>-1                   <span class="token punctuation">;</span> the relative start priority <span class="token punctuation">(</span>default -1<span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">autostart</span><span class="token operator">=</span>true                <span class="token punctuation">;</span> start at supervisord start <span class="token punctuation">(</span>default: <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">autorestart</span><span class="token operator">=</span>unexpected        <span class="token punctuation">;</span> restart at unexpected quit <span class="token punctuation">(</span>default: unexpected<span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">startsecs</span><span class="token operator">=</span><span class="token number">10</span>                  <span class="token punctuation">;</span> number of secs prog must stay running <span class="token punctuation">(</span>def. <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">startretries</span><span class="token operator">=</span><span class="token number">3</span>                <span class="token punctuation">;</span> max <span class="token comment"># of serial start failures (default 3)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">exitcodes</span><span class="token operator">=</span><span class="token number">0,2</span>                 <span class="token punctuation">;</span> <span class="token string">&#39;expected&#39;</span> <span class="token builtin class-name">exit</span> codes <span class="token keyword">for</span> process <span class="token punctuation">(</span>default <span class="token number">0,2</span><span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">stopsignal</span><span class="token operator">=</span>QUIT               <span class="token punctuation">;</span> signal used to <span class="token function">kill</span> process <span class="token punctuation">(</span>default <span class="token environment constant">TERM</span><span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">stopwaitsecs</span><span class="token operator">=</span><span class="token number">10</span>               <span class="token punctuation">;</span> max num secs to <span class="token function">wait</span> b4 SIGKILL <span class="token punctuation">(</span>default <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">user</span><span class="token operator">=</span>chrism                   <span class="token punctuation">;</span> setuid to this UNIX account to run the program
<span class="token punctuation">;</span><span class="token assign-left variable">redirect_stderr</span><span class="token operator">=</span>true          <span class="token punctuation">;</span> redirect proc stderr to stdout <span class="token punctuation">(</span>default <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">stdout_logfile</span><span class="token operator">=</span>/a/path        <span class="token punctuation">;</span> stdout log path, NONE <span class="token keyword">for</span> none<span class="token punctuation">;</span> default AUTO
<span class="token punctuation">;</span><span class="token assign-left variable">stdout_logfile_maxbytes</span><span class="token operator">=</span>1MB   <span class="token punctuation">;</span> max <span class="token comment"># logfile bytes b4 rotation (default 50MB)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">stdout_logfile_backups</span><span class="token operator">=</span><span class="token number">10</span>     <span class="token punctuation">;</span> <span class="token comment"># of stdout logfile backups (default 10)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">stdout_events_enabled</span><span class="token operator">=</span>false   <span class="token punctuation">;</span> emit events on stdout writes <span class="token punctuation">(</span>default <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">stderr_logfile</span><span class="token operator">=</span>/a/path        <span class="token punctuation">;</span> stderr log path, NONE <span class="token keyword">for</span> none<span class="token punctuation">;</span> default AUTO
<span class="token punctuation">;</span><span class="token assign-left variable">stderr_logfile_maxbytes</span><span class="token operator">=</span>1MB   <span class="token punctuation">;</span> max <span class="token comment"># logfile bytes b4 rotation (default 50MB)</span>
<span class="token punctuation">;</span>stderr_logfile_backups        <span class="token punctuation">;</span> <span class="token comment"># of stderr logfile backups (default 10)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">stderr_events_enabled</span><span class="token operator">=</span>false   <span class="token punctuation">;</span> emit events on stderr writes <span class="token punctuation">(</span>default <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token assign-left variable">environment</span><span class="token operator">=</span>A<span class="token operator">=</span><span class="token number">1</span>,B<span class="token operator">=</span><span class="token number">2</span>           <span class="token punctuation">;</span> process environment additions
<span class="token punctuation">;</span><span class="token assign-left variable">serverurl</span><span class="token operator">=</span>AUTO                <span class="token punctuation">;</span> override serverurl computation <span class="token punctuation">(</span>childutils<span class="token punctuation">)</span>
 
<span class="token punctuation">;</span> The below sample group section shows all possible group values,
<span class="token punctuation">;</span> create one or <span class="token function">more</span> <span class="token string">&#39;real&#39;</span> group: sections to create <span class="token string">&quot;heterogeneous&quot;</span>
<span class="token punctuation">;</span> process groups.
 
<span class="token punctuation">;</span><span class="token punctuation">[</span>group:thegroupname<span class="token punctuation">]</span>          <span class="token punctuation">;</span> \u670D\u52A1\u7EC4\u7BA1\u7406\uFF0C\u53EF\u4EE5\u5C06\u591A\u4E2A\u670D\u52A1\u540D\u5199\u5230\u8FD9\u91CC\u7BA1\u7406<span class="token punctuation">(</span>\u7EC4\u540D\u81EA\u5B9A\u4E49\uFF09
<span class="token punctuation">;</span><span class="token assign-left variable">programs</span><span class="token operator">=</span>progname1,progname2  <span class="token punctuation">;</span> \u4E0A\u9762\u914D\u7F6E\u597D\u7684\u670D\u52A1\u540D\uFF0C\u6BD4\u5982elasticsearch,kibana,logstash
<span class="token punctuation">;</span><span class="token assign-left variable">priority</span><span class="token operator">=</span><span class="token number">999</span>                  <span class="token punctuation">;</span> the relative start priority <span class="token punctuation">(</span>default <span class="token number">999</span><span class="token punctuation">)</span>
 
<span class="token punctuation">;</span> The <span class="token punctuation">[</span>include<span class="token punctuation">]</span> section can just contain the <span class="token string">&quot;files&quot;</span> setting.  This
<span class="token punctuation">;</span> setting can list multiple files <span class="token punctuation">(</span>separated by whitespace or
<span class="token punctuation">;</span> newlines<span class="token punctuation">)</span>.  It can also contain wildcards.  The filenames are
<span class="token punctuation">;</span> interpreted as relative to this file.  Included files *cannot*
<span class="token punctuation">;</span> include files themselves.
 
<span class="token punctuation">[</span>include<span class="token punctuation">]</span>
files <span class="token operator">=</span> supervisord.d/*.ini
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8981\u90E8\u7F72\u7684\u7A0B\u5E8Ftest_one\u914D\u7F6E\u6587\u4EF6</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>program:test_one<span class="token punctuation">]</span>
<span class="token assign-left variable">command</span><span class="token operator">=</span>java <span class="token parameter variable">-jar</span> /data/smallvideo/supervisor/taskApp-exec.jar TaskTestOne  <span class="token punctuation">;</span> \u88AB\u76D1\u63A7\u7684\u8FDB\u7A0B\u8DEF\u5F84
<span class="token assign-left variable">priority</span><span class="token operator">=</span><span class="token number">1</span>                    <span class="token punctuation">;</span> \u6570\u5B57\u8D8A\u9AD8\uFF0C\u4F18\u5148\u7EA7\u8D8A\u9AD8
<span class="token assign-left variable">numprocs</span><span class="token operator">=</span><span class="token number">1</span>                    <span class="token punctuation">;</span> \u542F\u52A8\u51E0\u4E2A\u8FDB\u7A0B
<span class="token assign-left variable">autostart</span><span class="token operator">=</span>true                <span class="token punctuation">;</span> \u968F\u7740supervisord\u7684\u542F\u52A8\u800C\u542F\u52A8
<span class="token assign-left variable">autorestart</span><span class="token operator">=</span>true              <span class="token punctuation">;</span> \u81EA\u52A8\u91CD\u542F
<span class="token assign-left variable">startretries</span><span class="token operator">=</span><span class="token number">10</span>               <span class="token punctuation">;</span> \u542F\u52A8\u5931\u8D25\u65F6\u7684\u6700\u591A\u91CD\u8BD5\u6B21\u6570
<span class="token assign-left variable">exitcodes</span><span class="token operator">=</span><span class="token number">0</span>                   <span class="token punctuation">;</span> \u6B63\u5E38\u9000\u51FA\u4EE3\u7801
<span class="token assign-left variable">stopsignal</span><span class="token operator">=</span>KILL               <span class="token punctuation">;</span> \u7528\u6765\u6740\u6B7B\u8FDB\u7A0B\u7684\u4FE1\u53F7
<span class="token assign-left variable">stopwaitsecs</span><span class="token operator">=</span><span class="token number">10</span>               <span class="token punctuation">;</span> \u53D1\u9001SIGKILL\u524D\u7684\u7B49\u5F85\u65F6\u95F4
<span class="token assign-left variable">redirect_stderr</span><span class="token operator">=</span>true          <span class="token punctuation">;</span> \u91CD\u5B9A\u5411stderr\u5230stdout
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>supervisor\u914D\u7F6E\u6587\u4EF6\u8BE6\u89E3</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>- command\uFF1A\u542F\u52A8\u7A0B\u5E8F\u4F7F\u7528\u7684\u547D\u4EE4\uFF0C\u53EF\u4EE5\u662F\u7EDD\u5BF9\u8DEF\u5F84\u6216\u8005\u76F8\u5BF9\u8DEF\u5F84
- process_name\uFF1A\u4E00\u4E2Apython\u5B57\u7B26\u4E32\u8868\u8FBE\u5F0F\uFF0C\u7528\u6765\u8868\u793Asupervisor\u8FDB\u7A0B\u542F\u52A8\u7684\u8FD9\u4E2A\u7684\u540D\u79F0\uFF0C\u9ED8\u8BA4\u503C\u662F%<span class="token punctuation">(</span>program_name<span class="token punctuation">)</span>s
- numprocs\uFF1ASupervisor\u542F\u52A8\u8FD9\u4E2A\u7A0B\u5E8F\u7684\u591A\u4E2A\u5B9E\u4F8B\uFF0C\u5982\u679Cnumprocs<span class="token operator">&gt;</span><span class="token number">1</span>\uFF0C\u5219process_name\u7684\u8868\u8FBE\u5F0F\u5FC5\u987B\u5305\u542B%<span class="token punctuation">(</span>process_num<span class="token punctuation">)</span>s\uFF0C\u9ED8\u8BA4\u662F1
- numprocs_start\uFF1A\u4E00\u4E2Aint\u504F\u79FB\u503C\uFF0C\u5F53\u542F\u52A8\u5B9E\u4F8B\u7684\u65F6\u5019\u7528\u6765\u8BA1\u7B97numprocs\u7684\u503C
- priority\uFF1A\u6743\u91CD\uFF0C\u53EF\u4EE5\u63A7\u5236\u7A0B\u5E8F\u542F\u52A8\u548C\u5173\u95ED\u65F6\u7684\u987A\u5E8F\uFF0C\u6743\u91CD\u8D8A\u4F4E\uFF1A\u8D8A\u65E9\u542F\u52A8\uFF0C\u8D8A\u665A\u5173\u95ED\u3002\u9ED8\u8BA4\u503C\u662F999
- autostart\uFF1A\u5982\u679C\u8BBE\u7F6E\u4E3Atrue\uFF0C\u5F53supervisord\u542F\u52A8\u7684\u65F6\u5019\uFF0C\u8FDB\u7A0B\u4F1A\u81EA\u52A8\u91CD\u542F\u3002
- autorestart\uFF1A\u503C\u53EF\u4EE5\u662Ffalse\u3001true\u3001unexpected\u3002false\uFF1A\u8FDB\u7A0B\u4E0D\u4F1A\u81EA\u52A8\u91CD\u542F\uFF0Cunexpected\uFF1A\u5F53\u7A0B\u5E8F\u9000\u51FA\u65F6\u7684\u9000\u51FA\u7801\u4E0D\u662Fexitcodes\u4E2D\u5B9A\u4E49\u7684\u65F6\uFF0C\u8FDB\u7A0B\u4F1A\u91CD\u542F\uFF0Ctrue\uFF1A\u8FDB\u7A0B\u4F1A\u65E0\u6761\u4EF6\u91CD\u542F\u5F53\u9000\u51FA\u7684\u65F6\u5019\u3002
- startsecs\uFF1A\u7A0B\u5E8F\u542F\u52A8\u540E\u7B49\u5F85\u591A\u957F\u65F6\u95F4\u540E\u624D\u8BA4\u4E3A\u7A0B\u5E8F\u542F\u52A8\u6210\u529F
- startretries\uFF1Asupervisord\u5C1D\u8BD5\u542F\u52A8\u4E00\u4E2A\u7A0B\u5E8F\u65F6\u5C1D\u8BD5\u7684\u6B21\u6570\u3002\u9ED8\u8BA4\u662F3
- exitcodes\uFF1A\u4E00\u4E2A\u9884\u671F\u7684\u9000\u51FA\u8FD4\u56DE\u7801\uFF0C\u9ED8\u8BA4\u662F0,2\u3002
- stopsignal\uFF1A\u5F53\u6536\u5230stop\u8BF7\u6C42\u7684\u65F6\u5019\uFF0C\u53D1\u9001\u4FE1\u53F7\u7ED9\u7A0B\u5E8F\uFF0C\u9ED8\u8BA4\u662F<span class="token environment constant">TERM</span>\u4FE1\u53F7\uFF0C\u4E5F\u53EF\u4EE5\u662F HUP, INT, QUIT, KILL, USR1, or USR2\u3002
- stopwaitsecs\uFF1A\u5728\u64CD\u4F5C\u7CFB\u7EDF\u7ED9supervisord\u53D1\u9001SIGCHILD\u4FE1\u53F7\u65F6\u7B49\u5F85\u7684\u65F6\u95F4
- stopasgroup\uFF1A\u5982\u679C\u8BBE\u7F6E\u4E3Atrue\uFF0C\u5219\u4F1A\u4F7Fsupervisor\u53D1\u9001\u505C\u6B62\u4FE1\u53F7\u5230\u6574\u4E2A\u8FDB\u7A0B\u7EC4
- killasgroup\uFF1A\u5982\u679C\u8BBE\u7F6E\u4E3Atrue\uFF0C\u5219\u5728\u7ED9\u7A0B\u5E8F\u53D1\u9001SIGKILL\u4FE1\u53F7\u7684\u65F6\u5019\uFF0C\u4F1A\u53D1\u9001\u5230\u6574\u4E2A\u8FDB\u7A0B\u7EC4\uFF0C\u5B83\u7684\u5B50\u8FDB\u7A0B\u4E5F\u4F1A\u53D7\u5230\u5F71\u54CD\u3002
- user\uFF1A\u5982\u679Csupervisord\u4EE5root\u8FD0\u884C\uFF0C\u5219\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u8BBE\u7F6E\u7528\u6237\u542F\u52A8\u5B50\u7A0B\u5E8F
- redirect_stderr\uFF1A\u5982\u679C\u8BBE\u7F6E\u4E3Atrue\uFF0C\u8FDB\u7A0B\u5219\u4F1A\u628A\u6807\u51C6\u9519\u8BEF\u8F93\u51FA\u5230supervisord\u540E\u53F0\u7684\u6807\u51C6\u8F93\u51FA\u6587\u4EF6\u63CF\u8FF0\u7B26\u3002
- stdout_logfile\uFF1A\u628A\u8FDB\u7A0B\u7684\u6807\u51C6\u8F93\u51FA\u5199\u5165\u6587\u4EF6\u4E2D\uFF0C\u5982\u679Cstdout_logfile\u6CA1\u6709\u8BBE\u7F6E\u6216\u8005\u8BBE\u7F6E\u4E3AAUTO\uFF0C\u5219supervisor\u4F1A\u81EA\u52A8\u9009\u62E9\u4E00\u4E2A\u6587\u4EF6\u4F4D\u7F6E\u3002
- stdout_logfile_maxbytes\uFF1A\u6807\u51C6\u8F93\u51FAlog\u6587\u4EF6\u8FBE\u5230\u591A\u5C11\u540E\u81EA\u52A8\u8FDB\u884C\u8F6E\u8F6C\uFF0C\u5355\u4F4D\u662FKB\u3001MB\u3001GB\u3002\u5982\u679C\u8BBE\u7F6E\u4E3A0\u5219\u8868\u793A\u4E0D\u9650\u5236\u65E5\u5FD7\u6587\u4EF6\u5927\u5C0F
- stdout_logfile_backups\uFF1A\u6807\u51C6\u8F93\u51FA\u65E5\u5FD7\u8F6E\u8F6C\u5907\u4EFD\u7684\u6570\u91CF\uFF0C\u9ED8\u8BA4\u662F10\uFF0C\u5982\u679C\u8BBE\u7F6E\u4E3A0\uFF0C\u5219\u4E0D\u5907\u4EFD
- stdout_capture_maxbytes\uFF1A\u5F53\u8FDB\u7A0B\u5904\u4E8Estderr capture mode\u6A21\u5F0F\u7684\u65F6\u5019\uFF0C\u5199\u5165FIFO\u961F\u5217\u7684\u6700\u5927bytes\u503C\uFF0C\u5355\u4F4D\u53EF\u4EE5\u662FKB\u3001MB\u3001GB
- stdout_events_enabled\uFF1A\u5982\u679C\u8BBE\u7F6E\u4E3Atrue\uFF0C\u5F53\u8FDB\u7A0B\u5728\u5199\u5B83\u7684stderr\u5230\u6587\u4EF6\u63CF\u8FF0\u7B26\u7684\u65F6\u5019\uFF0CPROCESS_LOG_STDERR\u4E8B\u4EF6\u4F1A\u88AB\u89E6\u53D1
- stderr_logfile\uFF1A\u628A\u8FDB\u7A0B\u7684\u9519\u8BEF\u65E5\u5FD7\u8F93\u51FA\u4E00\u4E2A\u6587\u4EF6\u4E2D\uFF0C\u9664\u975Eredirect_stderr\u53C2\u6570\u88AB\u8BBE\u7F6E\u4E3Atrue
- stderr_logfile_maxbytes\uFF1A\u9519\u8BEFlog\u6587\u4EF6\u8FBE\u5230\u591A\u5C11\u540E\u81EA\u52A8\u8FDB\u884C\u8F6E\u8F6C\uFF0C\u5355\u4F4D\u662FKB\u3001MB\u3001GB\u3002\u5982\u679C\u8BBE\u7F6E\u4E3A0\u5219\u8868\u793A\u4E0D\u9650\u5236\u65E5\u5FD7\u6587\u4EF6\u5927\u5C0F
- stderr_logfile_backups\uFF1A\u9519\u8BEF\u65E5\u5FD7\u8F6E\u8F6C\u5907\u4EFD\u7684\u6570\u91CF\uFF0C\u9ED8\u8BA4\u662F10\uFF0C\u5982\u679C\u8BBE\u7F6E\u4E3A0\uFF0C\u5219\u4E0D\u5907\u4EFD
- stderr_capture_maxbytes\uFF1A\u5F53\u8FDB\u7A0B\u5904\u4E8Estderr capture mode\u6A21\u5F0F\u7684\u65F6\u5019\uFF0C\u5199\u5165FIFO\u961F\u5217\u7684\u6700\u5927bytes\u503C\uFF0C\u5355\u4F4D\u53EF\u4EE5\u662FKB\u3001MB\u3001GB
- stderr_events_enabled\uFF1A\u5982\u679C\u8BBE\u7F6E\u4E3Atrue\uFF0C\u5F53\u8FDB\u7A0B\u5728\u5199\u5B83\u7684stderr\u5230\u6587\u4EF6\u63CF\u8FF0\u7B26\u7684\u65F6\u5019\uFF0CPROCESS_LOG_STDERR\u4E8B\u4EF6\u4F1A\u88AB\u89E6\u53D1
- environment\uFF1A\u4E00\u4E2Ak/v\u5BF9\u7684list\u5217\u8868
- directory\uFF1Asupervisord\u5728\u751F\u6210\u5B50\u8FDB\u7A0B\u7684\u65F6\u5019\u4F1A\u5207\u6362\u5230\u8BE5\u76EE\u5F55
- umask\uFF1A\u8BBE\u7F6E\u8FDB\u7A0B\u7684umask
- serverurl\uFF1A\u662F\u5426\u5141\u8BB8\u5B50\u8FDB\u7A0B\u548C\u5185\u90E8\u7684HTTP\u670D\u52A1\u901A\u8BAF\uFF0C\u5982\u679C\u8BBE\u7F6E\u4E3AAUTO\uFF0Csupervisor\u4F1A\u81EA\u52A8\u7684\u6784\u9020\u4E00\u4E2Aurl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u53C2\u8003\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003\u6587\u6863" aria-hidden="true">#</a> \u53C2\u8003\u6587\u6863</h1>`,22),u=s("\u4F5C \u8005\uFF1A"),d={href:"http://www.cnblogs.com/toutou/",target:"_blank",rel:"noopener noreferrer"},v=s("\u8BF7\u53EB\u6211\u5934\u5934\u54E5"),k=s(" \u51FA \u5904\uFF1Ahttp://www.cnblogs.com/toutou/");function m(b,f){const a=l("ExternalLinkIcon");return t(),p("div",null,[c,n("p",null,[u,n("a",d,[v,i(a)]),k])])}const h=e(r,[["render",m],["__file","supervisor.html.vue"]]);export{h as default};
